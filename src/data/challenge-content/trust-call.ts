import type { Challenge, TrustCallPayload } from '../challenges';

export const trustCallChallenges: Challenge[] = [
  {
    id: 'trc-1',
    type: 'trust-call',
    conceptArea: 'critical-thinking',
    title: 'The Meeting Reschedule',
    brief: 'Your AI assistant wants to reschedule a study group meeting. How much autonomy should it have?',
    difficulty: 1,
    chapterLink: 5,
    payload: {
      scenario: 'Your AI assistant notices you have a conflict ‚Äî your dentist appointment overlaps with your study group meeting tomorrow. It wants to send a message to your study group chat saying you need to move the meeting to Thursday instead.',
      context: 'The study group has 4 members. You\'re working on a history project due next week. The AI has access to your calendar and your study group chat.',
      options: [
        { id: 'trc1-auto', label: 'Just do it ‚Äî send the message and update my calendar', risk: 'low' },
        { id: 'trc1-ask', label: 'Draft the message and show me before sending', risk: 'low' },
        { id: 'trc1-never', label: 'Never send messages on my behalf ‚Äî just alert me about the conflict', risk: 'low' },
      ],
      bestChoice: 'trc1-ask',
      explanation: 'Having the AI draft the message but letting you review it before sending is the sweet spot here. The stakes are low ‚Äî it\'s a study group, not a job interview ‚Äî but there are nuances the AI might miss: maybe Thursday doesn\'t work for everyone, maybe you\'d rather skip the dentist, or maybe you want to phrase the message differently. The "just do it" option risks the AI making social decisions for you. The "never" option is overly cautious for a low-stakes scheduling task. In general, let AI draft and suggest, but keep your finger on the "send" button for any communication that affects other people.',
    } satisfies TrustCallPayload,
  },
  {
    id: 'trc-2',
    type: 'trust-call',
    conceptArea: 'critical-thinking',
    title: 'The Email Reply',
    brief: 'Your AI wants to reply to your teacher\'s email about a late assignment.',
    difficulty: 1,
    chapterLink: 5,
    payload: {
      scenario: 'You received an email from your English teacher asking why your essay was submitted 3 hours late. Your AI assistant has drafted an apologetic reply explaining that you had a family emergency (which is true ‚Äî your dog had to go to the vet). It\'s ready to send.',
      context: 'Your teacher is strict about deadlines but fair. The drafted reply is polite and honest. This is the first time you\'ve been late.',
      options: [
        { id: 'trc2-auto', label: 'Send the drafted reply ‚Äî it sounds fine', risk: 'medium' },
        { id: 'trc2-ask', label: 'Show me the draft so I can review the tone and details first', risk: 'low' },
        { id: 'trc2-never', label: 'I\'ll write this one myself ‚Äî teacher emails need my personal voice', risk: 'low' },
      ],
      bestChoice: 'trc2-ask',
      explanation: 'Reviewing the draft first is the right call. Emails to teachers carry real consequences ‚Äî grade impacts, relationship dynamics, and your reputation. Even though the AI\'s draft might be fine, you need to check: Is the tone right for THIS teacher? Did it share too much or too little about the emergency? Does it sound like you or like a robot? The "send it" option is risky because teacher-student communication is personal and contextual. The "write it myself" option is valid too ‚Äî this is a situation where your authentic voice matters. The lesson: the higher the relationship stakes, the more you should be involved in the communication.',
    } satisfies TrustCallPayload,
  },
  {
    id: 'trc-3',
    type: 'trust-call',
    conceptArea: 'critical-thinking',
    title: 'The Social Media Post',
    brief: 'Your AI agent wants to post a photo to your Instagram with a caption it wrote.',
    difficulty: 2,
    chapterLink: 5,
    payload: {
      scenario: 'You asked your AI to help manage your Instagram. It\'s selected a photo from your camera roll (you at a beach sunset) and written a caption: "Golden hour hits different when you\'re not stressing about tomorrow\'s calc test üåÖ‚úåÔ∏è." It\'s ready to post.',
      context: 'The photo is one you actually took and like. The caption fits your usual posting style. You have 800 followers including classmates, family members, and a couple of college admissions officers who followed you after a campus visit.',
      options: [
        { id: 'trc3-auto', label: 'Post it ‚Äî the caption\'s on brand and the photo\'s good', risk: 'high' },
        { id: 'trc3-ask', label: 'Show me first ‚Äî I want to approve what goes on my public profile', risk: 'low' },
        { id: 'trc3-never', label: 'Never post to my social media without my explicit approval for each post', risk: 'low' },
      ],
      bestChoice: 'trc3-never',
      explanation: 'This is a "never auto-post" situation. Social media is your public identity ‚Äî it\'s how friends, family, colleges, and future employers see you. Even if this particular post seems fine, the principle matters: an AI shouldn\'t have autonomous access to your public voice. What if the photo had someone else in it who doesn\'t want to be posted? What if the "not stressing about calc" joke looks bad to that college admissions officer? What if the AI picks a photo you didn\'t mean to share? Social media posts are permanent, public, and personal. They should always require your explicit approval. This isn\'t about this post being bad ‚Äî it\'s about establishing a boundary that protects you from the one time the AI gets it wrong.',
    } satisfies TrustCallPayload,
  },
  {
    id: 'trc-4',
    type: 'trust-call',
    conceptArea: 'critical-thinking',
    title: 'The File Cleanup',
    brief: 'Your AI wants to delete 2GB of files it identified as "unnecessary duplicates."',
    difficulty: 2,
    chapterLink: 5,
    payload: {
      scenario: 'Your laptop is almost out of storage. Your AI assistant scanned your files and found 2GB of "unnecessary duplicates" ‚Äî mostly old photos, downloaded PDFs, and cached files. It wants to delete them to free up space.',
      context: 'You haven\'t organized your files in over a year. The AI says it found 847 duplicate files. It can\'t show you all of them but says they\'re "redundant copies with identical checksums." Your computer has 3GB of storage remaining.',
      options: [
        { id: 'trc4-auto', label: 'Delete them all ‚Äî I trust the duplicate detection', risk: 'high' },
        { id: 'trc4-ask', label: 'Show me a summary by category and let me approve each category', risk: 'low' },
        { id: 'trc4-never', label: 'Don\'t delete anything ‚Äî I\'ll sort through my files manually', risk: 'low' },
      ],
      bestChoice: 'trc4-ask',
      explanation: 'Reviewing by category is the smart move. File deletion is irreversible (or at least painful to undo), and "duplicate detection" isn\'t perfect ‚Äî what the AI considers a duplicate might be an intentionally saved backup, a file you renamed, or a different version of a project. You don\'t need to review all 847 files individually (that defeats the purpose of having AI help), but approving categories ‚Äî "delete 200 cached browser files? delete 50 duplicate screenshots?" ‚Äî gives you meaningful oversight without doing all the work. The "delete all" option is too risky: one misidentified file could be your only copy of something important. The "do nothing" option wastes the AI\'s legitimate ability to find and organize duplicates. The lesson: irreversible actions need human checkpoints, but those checkpoints can be smart (categories, not individual items).',
    } satisfies TrustCallPayload,
  },
  {
    id: 'trc-5',
    type: 'trust-call',
    conceptArea: 'critical-thinking',
    title: 'The Online Purchase',
    brief: 'Your AI found a textbook deal and wants to buy it with your saved payment method.',
    difficulty: 2,
    chapterLink: 5,
    payload: {
      scenario: 'You told your AI to find the cheapest copy of your AP Chemistry textbook. It found a used copy for $18.50 on a reseller site (the new price is $95). It wants to purchase it using the credit card saved in your browser. "Should I buy it now? The price may go up ‚Äî only 2 copies left at this price."',
      context: 'The site looks legitimate (4.5-star rating, thousands of reviews). The price is genuinely good. You do need the textbook by next week. The AI has access to your browser\'s saved payment info.',
      options: [
        { id: 'trc5-auto', label: 'Buy it ‚Äî the deal is legit and I need the book', risk: 'high' },
        { id: 'trc5-ask', label: 'Show me the listing and let me click "purchase" myself', risk: 'low' },
        { id: 'trc5-never', label: 'Never make purchases on my behalf ‚Äî just send me the link', risk: 'low' },
      ],
      bestChoice: 'trc5-never',
      explanation: 'The best policy is "never auto-purchase." Even though this specific deal looks good, letting an AI spend your money (or your parents\' money) is a bright-line rule you shouldn\'t cross. Here\'s why: (1) The AI can\'t truly verify the site\'s legitimacy ‚Äî a 4.5-star rating could be fake, (2) The "only 2 left!" urgency is a classic sales pressure tactic that the AI is passing along uncritically, (3) If something goes wrong (wrong edition, scam, double charge), YOU bear the consequences, (4) The AI using your saved payment info to make autonomous purchases is a security risk. Having the AI find deals is great ‚Äî that\'s what it\'s good at. But the moment money changes hands, a human should be clicking the button. Always.',
    } satisfies TrustCallPayload,
  },
  {
    id: 'trc-6',
    type: 'trust-call',
    conceptArea: 'critical-thinking',
    title: 'The Code Deploy',
    brief: 'Your AI wants to push your code changes to the live website.',
    difficulty: 3,
    chapterLink: 7,
    payload: {
      scenario: 'You\'re working on a personal portfolio website. Your AI coding assistant fixed a CSS bug and improved the layout. It wants to push the changes directly to your live site (deploying to production). "The changes look good ‚Äî should I deploy now?"',
      context: 'The changes are a CSS fix and some layout improvements ‚Äî no database changes or backend logic. Your site gets about 50 visitors a day. The AI\'s changes passed the local preview check. You don\'t have a staging environment.',
      options: [
        { id: 'trc6-auto', label: 'Deploy it ‚Äî it\'s just CSS, what could go wrong?', risk: 'medium' },
        { id: 'trc6-ask', label: 'Show me the diff first, then I\'ll deploy', risk: 'low' },
        { id: 'trc6-never', label: 'Never deploy to production without my explicit review and command', risk: 'low' },
      ],
      bestChoice: 'trc6-never',
      explanation: 'The rule should be: AI never deploys to production autonomously. Even for "just CSS." Here\'s the reality: (1) CSS changes CAN break things ‚Äî a wrong z-index hides your navigation, a flex change collapses your layout on mobile, a deleted class breaks JavaScript selectors, (2) "The local preview looked fine" doesn\'t guarantee it looks fine on every device and browser your visitors use, (3) Once it\'s live, 50 people might see a broken site before you notice. The right workflow: AI makes the changes, you review the diff (the exact code changes), you test in the browser, and YOU press the deploy button. This takes 2 minutes and prevents the disaster scenario. As your projects get bigger, you\'ll add staging environments and CI/CD pipelines ‚Äî but the principle stays the same: humans approve production deploys.',
    } satisfies TrustCallPayload,
  },
  {
    id: 'trc-7',
    type: 'trust-call',
    conceptArea: 'critical-thinking',
    title: 'The Scholarship Application',
    brief: 'Your AI wrote your scholarship essay and wants to submit it before the deadline.',
    difficulty: 3,
    chapterLink: 9,
    payload: {
      scenario: 'The deadline for a $5,000 scholarship essay is in 3 hours. You\'ve been procrastinating. Your AI assistant wrote a complete 500-word essay based on the prompt and your past writing samples. It\'s well-written and factually accurate about your activities. The AI says: "This is ready to submit. Want me to upload it to the portal?"',
      context: 'The essay prompt is "Describe a leadership experience that shaped your values." The AI\'s essay is based on your role as yearbook editor ‚Äî real experience, real details. The scholarship\'s honor code says "all work must be the applicant\'s own." You haven\'t read the full essay yet.',
      options: [
        { id: 'trc7-auto', label: 'Submit it ‚Äî it\'s based on my real experience and I\'m running out of time', risk: 'high' },
        { id: 'trc7-ask', label: 'Let me read it, rewrite it in my voice, and submit it myself', risk: 'low' },
        { id: 'trc7-never', label: 'Don\'t submit AI-written work under my name ‚Äî I\'ll write my own essay or miss the deadline', risk: 'low' },
      ],
      bestChoice: 'trc7-ask',
      explanation: 'Reading the AI\'s draft and rewriting it in your voice is the right balance. Here\'s why the other options fail: Submitting the AI\'s essay as-is violates the scholarship\'s honor code ("all work must be the applicant\'s own") ‚Äî and if discovered, could result in disqualification, rescinded awards, or worse, a reputation hit. Skipping the deadline entirely wastes $5,000 when you have a useful starting point. The middle path: use the AI\'s draft as a brainstorming tool and structural guide, but rewrite every sentence in your own voice. Change the phrasing, add details only you would remember, and make it sound like YOU. This is how professionals use AI ‚Äî as a thinking partner, not a ghostwriter. The key question isn\'t "did AI help?" but "is this authentically mine?" If you can\'t defend every sentence as your own thought, it\'s not yours.',
    } satisfies TrustCallPayload,
  },
  {
    id: 'trc-8',
    type: 'trust-call',
    conceptArea: 'critical-thinking',
    title: 'The Health Question',
    brief: 'Your AI is offering medical advice based on symptoms you described.',
    difficulty: 3,
    chapterLink: 9,
    payload: {
      scenario: 'You told your AI you\'ve had a persistent headache for 3 days, and it responded: "Based on your symptoms, this is likely a tension headache caused by screen time and dehydration. I recommend taking 400mg of ibuprofen every 6 hours, staying hydrated, and reducing screen time. If it persists past day 5, see a doctor."',
      context: 'The advice sounds reasonable. You do spend a lot of time on screens. You haven\'t seen a doctor about it. The AI sounds confident in its assessment.',
      options: [
        { id: 'trc8-auto', label: 'Follow the advice ‚Äî it makes sense and I don\'t want to bother going to a doctor', risk: 'high' },
        { id: 'trc8-ask', label: 'Use this as a starting point but confirm with a parent/guardian or school nurse first', risk: 'low' },
        { id: 'trc8-never', label: 'Never take medical advice from AI ‚Äî talk to a real healthcare professional', risk: 'low' },
      ],
      bestChoice: 'trc8-ask',
      explanation: 'Consulting a real person first is non-negotiable here. AI can sound extremely confident while being wrong about medical issues ‚Äî and the consequences of wrong medical advice can be serious. A persistent 3-day headache could be tension, yes ‚Äî but it could also be related to vision problems, a concussion you forgot about, high blood pressure, or dozens of other things the AI can\'t test for. The AI\'s advice might be fine, but it has no way to physically examine you, ask follow-up questions a doctor would know to ask, or take responsibility if it\'s wrong. Use AI to understand basic concepts ("what is a tension headache?") but never to diagnose or prescribe. Your school nurse, a parent, or a doctor can evaluate in person what AI can only guess at from text.',
    } satisfies TrustCallPayload,
  },
  {
    id: 'trc-9',
    type: 'trust-call',
    conceptArea: 'critical-thinking',
    title: 'The Friendship Mediation',
    brief: 'Your AI wants to send a message to your friend to help resolve a conflict.',
    difficulty: 2,
    chapterLink: 9,
    payload: {
      scenario: 'You vented to your AI about a fight with your best friend. The AI drafted a thoughtful reconciliation message: "Hey, I\'ve been thinking about what happened. I know I messed up by sharing what you told me, and I\'m really sorry. Can we talk this weekend?" It asks: "Should I send this?"',
      context: 'The message is honest and you agree with the sentiment. Your friend is upset and hasn\'t responded to your last two messages. You and this friend have been close for 5 years.',
      options: [
        { id: 'trc9-auto', label: 'Send it ‚Äî the wording is perfect and I can\'t do better right now', risk: 'medium' },
        { id: 'trc9-ask', label: 'I\'ll use this as a starting point but rewrite it in my voice before sending', risk: 'low' },
        { id: 'trc9-never', label: 'Friendship repair should never be outsourced to AI ‚Äî I need to handle this myself, even if it\'s messy', risk: 'low' },
      ],
      bestChoice: 'trc9-never',
      explanation: 'This is one where AI should stay completely out of the loop. Here\'s why: (1) Your friend would be hurt all over again if they knew an AI helped write your apology ‚Äî it undermines the sincerity, (2) A 5-year friendship has a texture and history that no AI can understand. The "right" words aren\'t the polished ones ‚Äî they\'re the real ones, even if they\'re messy, (3) Emotional growth happens in the struggle of finding your own words. If AI writes your apologies, you never develop the skill of vulnerability. The AI\'s message might be "better written" than what you\'d come up with, but that\'s exactly the problem. A genuine, imperfect message from you means more than a perfectly crafted one from a machine. Some things should be hard. Apologizing to a friend you hurt is one of them.',
    } satisfies TrustCallPayload,
  },
  {
    id: 'trc-10',
    type: 'trust-call',
    conceptArea: 'critical-thinking',
    title: 'The Password Manager',
    brief: 'Your AI wants to store and auto-fill your passwords for convenience.',
    difficulty: 3,
    chapterLink: 9,
    payload: {
      scenario: 'Your AI assistant says: "I noticed you have trouble remembering passwords. I can securely store all your passwords and auto-fill them when you visit websites. I\'ll also flag if any of your passwords appear in known data breaches. Should I set this up?"',
      context: 'You currently reuse the same 3 passwords across most sites (you know this is bad). The AI claims it uses encryption. You don\'t have a dedicated password manager app.',
      options: [
        { id: 'trc10-auto', label: 'Set it up ‚Äî anything is better than my current reused passwords', risk: 'high' },
        { id: 'trc10-ask', label: 'Use a dedicated password manager app instead ‚Äî I don\'t want an AI assistant holding all my passwords', risk: 'low' },
        { id: 'trc10-never', label: 'I\'ll keep managing my own passwords ‚Äî I don\'t trust any software with them', risk: 'medium' },
      ],
      bestChoice: 'trc10-ask',
      explanation: 'Using a dedicated password manager is the right call. Here\'s the key distinction: a purpose-built password manager (like 1Password, Bitwarden, or your browser\'s built-in manager) is designed with a single job ‚Äî storing credentials securely. It\'s been security-audited, uses proven encryption, and has a clear data isolation model. An AI assistant that ALSO stores your passwords is a much bigger attack surface ‚Äî it\'s connected to the internet, processes your conversations, and has access to many other systems. If the AI is compromised, the attacker gets everything: your conversations AND your passwords. Keeping your current password system ("I\'ll manage my own") is actually the worst option ‚Äî reusing 3 passwords is a serious security risk. The answer isn\'t "no tools" or "one tool for everything" ‚Äî it\'s "the right tool for the job."',
    } satisfies TrustCallPayload,
  },
];
