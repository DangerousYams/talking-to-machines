import type { Challenge, FirstPrinciplesPayload } from '../challenges';

export const firstPrinciplesChallenges: Challenge[] = [
  {
    id: 'fp-1',
    type: 'first-principles',
    conceptArea: 'critical-thinking',
    title: 'The Pipe Problem',
    brief: 'If you double the radius of a pipe, how much more water flows through?',
    difficulty: 2,
    chapterLink: 10,
    payload: {
      question: 'If you double the radius of a water pipe, how much more water can flow through it (assuming the same water pressure and pipe length)?',
      domain: 'physics',
      aiAnswer: 'If you double the radius, you double the cross-sectional area, so twice as much water flows through. The flow rate doubles.',
      aiIsCorrect: false,
      correctAnswer: 'The flow rate increases by a factor of 16, not 2. This is because flow rate through a pipe is proportional to the radius to the fourth power (r^4), according to the Poiseuille equation. Doubling the radius means 2^4 = 16 times more flow.',
      reasoning: 'The AI made a common error: it assumed flow is proportional to cross-sectional area (r^2), which would give 4x. But even that is wrong. In reality, fluid dynamics follows the Hagen-Poiseuille equation, where flow rate is proportional to r^4. This happens because: (1) the area increases by r^2, AND (2) the average velocity of the fluid also increases by r^2 because fluid in the center of a wider pipe experiences less friction from the walls. So area (r^2) x velocity (r^2) = r^4. This is why even a small increase in pipe diameter dramatically increases flow — and why your arteries being slightly narrowed (atherosclerosis) is such a big deal.',
    } satisfies FirstPrinciplesPayload,
  },
  {
    id: 'fp-2',
    type: 'first-principles',
    conceptArea: 'critical-thinking',
    title: 'The Birthday Paradox',
    brief: 'In a room of 23 people, what\'s the probability that two share a birthday?',
    difficulty: 2,
    chapterLink: 10,
    payload: {
      question: 'In a room of 23 randomly chosen people, what is the approximate probability that at least two of them share the same birthday?',
      domain: 'statistics',
      aiAnswer: 'The probability is about 50%. This is known as the Birthday Paradox. It seems counterintuitive because 23 is much less than 365, but the key insight is that we\'re not checking if someone shares YOUR birthday — we\'re checking all possible pairs. With 23 people, there are 23 × 22 / 2 = 253 pairs to compare, which is why the probability is higher than you\'d expect.',
      aiIsCorrect: true,
      correctAnswer: 'The AI is correct. The probability is approximately 50.7%. With 23 people, there are 253 unique pairs, and each pair has a 364/365 chance of NOT sharing a birthday. The probability that NO pair shares a birthday is (364/365)^253 ≈ 0.493, so the probability of at least one match is about 50.7%.',
      reasoning: 'This is a case where the AI got it right and your intuition might say it\'s wrong. Most people guess something like 5-10% because they think about the problem as "what are the chances someone shares MY birthday?" (which would be about 6% with 23 people). But the question is about ANY pair matching, and combinatorics makes the number of pairs grow much faster than the number of people. The lesson: when a probability question feels "obviously wrong," check whether you\'re thinking about the right question. AI often handles well-known math problems correctly — the Birthday Paradox is widely discussed in its training data.',
    } satisfies FirstPrinciplesPayload,
  },
  {
    id: 'fp-3',
    type: 'first-principles',
    conceptArea: 'critical-thinking',
    title: 'The Coin Flip Fallacy',
    brief: 'You\'ve flipped heads 9 times in a row. What\'s the probability of heads on flip 10?',
    difficulty: 1,
    chapterLink: 10,
    payload: {
      question: 'You flip a fair coin and get heads 9 times in a row. What is the probability that the 10th flip will also be heads?',
      domain: 'statistics',
      aiAnswer: 'The probability of getting heads on the 10th flip is 50% (1/2). Each coin flip is an independent event — the coin has no memory of previous flips. While flipping 10 heads in a row is very unlikely (about 1 in 1024), once you\'ve already flipped 9 heads, the 10th flip is still a fresh 50/50.',
      aiIsCorrect: true,
      correctAnswer: 'The AI is correct. The probability is exactly 50%. Coin flips are independent events — previous outcomes don\'t influence future ones. The belief that "tails is due" after a streak of heads is called the Gambler\'s Fallacy.',
      reasoning: 'The AI nailed this one, and it\'s testing whether YOU fall for the Gambler\'s Fallacy — the deeply human intuition that after a long streak, the opposite result is "due." Your gut might scream "tails is way more likely!" but that\'s your pattern-seeking brain lying to you. Each flip is a fresh event. The coin doesn\'t know or care what happened before. This matters because: (1) Casinos make billions from this fallacy, (2) It affects how people think about streaks in sports, investing, and even test-taking, (3) It\'s a reminder that statistical independence is a concept your intuition genuinely struggles with.',
    } satisfies FirstPrinciplesPayload,
  },
  {
    id: 'fp-4',
    type: 'first-principles',
    conceptArea: 'critical-thinking',
    title: 'The Great Wall from Space',
    brief: 'Can you see the Great Wall of China from space?',
    difficulty: 1,
    chapterLink: 9,
    payload: {
      question: 'Is the Great Wall of China visible from space with the naked eye?',
      domain: 'geography',
      aiAnswer: 'Yes, the Great Wall of China is visible from space. It\'s one of the few man-made structures that can be seen from low Earth orbit. This is because the wall is over 13,000 miles long, making it the longest structure ever built by humans.',
      aiIsCorrect: false,
      correctAnswer: 'No, the Great Wall is NOT visible from space with the naked eye. While the wall is indeed very long, it\'s only about 15-30 feet wide — far too narrow to be distinguished from orbit. Many astronauts, including Chinese astronaut Yang Liwei, have confirmed they could not see it. This is one of the most widespread misconceptions in the world.',
      reasoning: 'The AI confidently repeated a famous myth. Length doesn\'t matter for visibility from space — WIDTH does. The Great Wall is thousands of miles long but only about 20 feet wide. That\'s like trying to spot a single human hair from 2 miles away. Highways, airports, and cities are actually much more visible from space because they\'re wider. This is a great example of AI confidently stating a "fact" that\'s in its training data as a commonly repeated claim. When something "everyone knows" sounds too neat and tidy, that\'s your cue to verify. The AI\'s confident tone is no guarantee of accuracy — it can state myths with the same authority as facts.',
    } satisfies FirstPrinciplesPayload,
  },
  {
    id: 'fp-5',
    type: 'first-principles',
    conceptArea: 'critical-thinking',
    title: 'The Monty Hall Problem',
    brief: 'Should you switch doors on a game show?',
    difficulty: 3,
    chapterLink: 10,
    payload: {
      question: 'On a game show, there are 3 doors. Behind one is a car; behind the other two are goats. You pick door 1. The host (who knows what\'s behind the doors) opens door 3, revealing a goat. Should you switch to door 2, or stick with door 1?',
      domain: 'logic',
      aiAnswer: 'You should switch doors. When you first picked, you had a 1/3 chance of being right. The host opening a goat door doesn\'t change your original odds — your door still has a 1/3 chance. Since the total probability must be 1, the remaining door now has a 2/3 chance. Switching doubles your odds of winning from 1/3 to 2/3.',
      aiIsCorrect: true,
      correctAnswer: 'The AI is correct — you should always switch. Your initial door has a 1/3 chance and switching gives you a 2/3 chance. The key insight is that the host\'s action is NOT random — the host always opens a door with a goat, which concentrates the remaining probability onto the door you didn\'t pick.',
      reasoning: 'This is one of the most famously counterintuitive probability problems, and the AI gets it right. Most people (including many mathematicians when it was first popularized) believe it\'s 50/50 after a door is revealed. The critical insight: the host\'s choice is INFORMED, not random. The host always reveals a goat, which means the host is giving you information. If you originally picked a goat door (2/3 chance), the host is forced to show you the other goat, making the remaining door the car. If you originally picked the car (1/3 chance), the host can show either goat. So switching wins 2/3 of the time. This problem is famous precisely because it separates intuition from logic — and it\'s a case where a well-trained AI can outperform human gut instinct.',
    } satisfies FirstPrinciplesPayload,
  },
  {
    id: 'fp-6',
    type: 'first-principles',
    conceptArea: 'critical-thinking',
    title: 'Weight on the Moon',
    brief: 'Does a bowling ball fall faster than a feather on the Moon?',
    difficulty: 1,
    chapterLink: 10,
    payload: {
      question: 'On the Moon (which has no atmosphere), if you drop a bowling ball and a feather from the same height at the same time, which hits the ground first?',
      domain: 'physics',
      aiAnswer: 'They hit the ground at exactly the same time. On the Moon, there is no air resistance, so all objects fall at the same rate regardless of mass. This was famously demonstrated by Apollo 15 astronaut David Scott, who dropped a hammer and a feather on the lunar surface in 1971.',
      aiIsCorrect: true,
      correctAnswer: 'The AI is correct. Without air resistance, all objects accelerate due to gravity at the same rate, regardless of their mass. On the Moon, both the bowling ball and the feather fall at about 1.6 m/s^2 (the Moon\'s gravitational acceleration) and hit the ground at the same time.',
      reasoning: 'The AI got this right, and it includes the great historical reference to the Apollo 15 demonstration. This tests whether you have the intuition that "heavier things fall faster" — which is true in everyday experience on Earth (because of air resistance) but NOT true in a vacuum. Galileo figured this out in the 1600s by reasoning from first principles: gravity pulls on each unit of mass equally, so more mass means more gravitational force BUT also more inertia to overcome — the two effects cancel perfectly. On Earth, a feather falls slowly because air pushes against its large surface area relative to its weight. Remove the air, and mass becomes irrelevant to fall speed.',
    } satisfies FirstPrinciplesPayload,
  },
  {
    id: 'fp-7',
    type: 'first-principles',
    conceptArea: 'critical-thinking',
    title: 'The Airplane on a Treadmill',
    brief: 'Can a plane take off from a giant treadmill moving backward at takeoff speed?',
    difficulty: 3,
    chapterLink: 10,
    payload: {
      question: 'An airplane sits on a massive treadmill (conveyor belt). The treadmill is designed to move backward at whatever speed the plane\'s wheels spin forward, effectively trying to keep the plane stationary. Can the plane take off?',
      domain: 'physics',
      aiAnswer: 'No, the plane cannot take off. If the treadmill matches the wheel speed in the opposite direction, the plane remains stationary relative to the ground. Since a plane needs airflow over its wings to generate lift, and a stationary plane has no airspeed, it cannot generate enough lift to take off.',
      aiIsCorrect: false,
      correctAnswer: 'Yes, the plane CAN take off. Airplanes are propelled by jet engines or propellers pushing against the AIR, not by their wheels pushing against the ground (like a car). The wheels are free-spinning — they just roll. The treadmill can spin the wheels as fast as it wants; the engines still push the plane forward through the air. The plane moves forward, air flows over the wings, lift is generated, and it takes off.',
      reasoning: 'This is one of the internet\'s most debated physics puzzles, and the AI got it wrong by falling into the most common trap: treating the plane like a car. A car generates thrust through its wheels gripping the ground — so a treadmill would indeed keep a car stationary. But a plane\'s thrust comes from engines pushing against the AIR, completely independent of what the ground is doing. The wheels are just passive rollers that reduce friction. If you put a plane on ice, it could still take off — the wheels barely matter. First-principles thinking helps here: ask "WHERE does the thrust come from?" and the answer is immediately clear. The AI likely learned from internet discussions where this wrong answer is extremely common.',
    } satisfies FirstPrinciplesPayload,
  },
  {
    id: 'fp-8',
    type: 'first-principles',
    conceptArea: 'critical-thinking',
    title: 'Napoleon\'s Height',
    brief: 'Was Napoleon actually short?',
    difficulty: 1,
    chapterLink: 9,
    payload: {
      question: 'Was Napoleon Bonaparte unusually short?',
      domain: 'history',
      aiAnswer: 'No, Napoleon was not actually short. He was approximately 5\'7" (170 cm), which was average or slightly above average for a Frenchman of his era. The myth of his shortness came from British propaganda cartoons and confusion between French and English measurement units — the French "pouce" (inch) was longer than the English inch, so his height in French units translated to a smaller number in English units.',
      aiIsCorrect: true,
      correctAnswer: 'The AI is correct. Napoleon was about 5\'7" (170 cm), which was normal height for his time. The "short Napoleon" myth is one of history\'s most persistent misconceptions, originating from British propaganda and unit conversion errors.',
      reasoning: 'The AI correctly debunks one of history\'s most famous myths. Napoleon\'s height was recorded as "5 feet 2 inches" in French units — but the French foot (pied) was longer than the English foot. Converting properly, he was about 5\'7" in English units, perfectly average for the early 1800s (when average male height in France was around 5\'5"). British cartoonist James Gillray popularized the "Little Boney" caricature as wartime propaganda, and the myth stuck for over 200 years. This is a case where the AI has been well-trained to correct common misconceptions. The lesson: even "well-known facts" deserve verification, but also give credit to AI when it correctly challenges popular myths.',
    } satisfies FirstPrinciplesPayload,
  },
  {
    id: 'fp-9',
    type: 'first-principles',
    conceptArea: 'critical-thinking',
    title: 'The Hot Water Freezing Trick',
    brief: 'Does hot water freeze faster than cold water?',
    difficulty: 2,
    chapterLink: 10,
    payload: {
      question: 'Does hot water freeze faster than cold water?',
      domain: 'physics',
      aiAnswer: 'No, hot water does not freeze faster than cold water. This is a common misconception. Cold water is always closer to the freezing point, so it will always freeze first given identical conditions. The idea that hot water freezes faster, sometimes called the Mpemba effect, has been debunked by careful experiments.',
      aiIsCorrect: false,
      correctAnswer: 'The answer is more nuanced than the AI suggests. The Mpemba effect — where hot water can freeze faster than cold water under certain conditions — is a real, observed phenomenon, not a debunked myth. It has been replicated in experiments, though the conditions matter (container type, dissolved gases, evaporation, convection patterns). The exact mechanism is still debated by physicists.',
      reasoning: 'The AI overconfidently declared the Mpemba effect "debunked" when it\'s actually an active area of scientific research. This is a great example of AI being overconfident about contested science. The Mpemba effect was named after Tanzanian student Erasto Mpemba, who noticed it while making ice cream in 1963 and asked his physics teacher about it. Several mechanisms have been proposed: (1) evaporation reduces the volume of hot water, (2) dissolved gases escape from hot water, (3) convection patterns differ, (4) hydrogen bonding effects. While not all experiments reproduce it, enough do that serious physicists still study it. The lesson: when AI says something is "debunked" or "proven," check whether the scientific community actually agrees — the real answer is sometimes "it\'s complicated."',
    } satisfies FirstPrinciplesPayload,
  },
  {
    id: 'fp-10',
    type: 'first-principles',
    conceptArea: 'critical-thinking',
    title: 'Survivorship Bias',
    brief: 'Should you follow the habits of successful entrepreneurs to become successful?',
    difficulty: 3,
    chapterLink: 10,
    payload: {
      question: 'Many books study the habits of extremely successful entrepreneurs (like dropping out of college, taking huge risks, working 100-hour weeks) and recommend readers adopt those habits. Is this good advice?',
      domain: 'logic',
      aiAnswer: 'While it\'s useful to study successful people\'s habits, these books often suffer from survivorship bias. We only study the entrepreneurs who succeeded — we don\'t see the thousands who dropped out of college, took huge risks, and worked 100-hour weeks but failed. The habits that look like success factors might actually be risk factors that happened to work out for a lucky few. A better approach is to study both successes and failures to find habits that truly correlate with positive outcomes.',
      aiIsCorrect: true,
      correctAnswer: 'The AI is correct — this is a textbook case of survivorship bias. Studying only successful people and copying their habits is like studying only lottery winners and concluding that "buying lottery tickets" is a path to wealth. You need to also look at the people who did the same things and failed.',
      reasoning: 'The AI correctly identifies survivorship bias, one of the most important critical thinking concepts. The classic example: during WWII, the military studied bullet holes in returning bombers and wanted to add armor where the holes were. Statistician Abraham Wald realized they should armor where the holes WEREN\'T — because planes hit in those areas didn\'t return at all. Similarly, "Bill Gates dropped out of college and became a billionaire" ignores the millions who dropped out and didn\'t. The habits of success might just be habits of risk-taking — and for every visible success, there are invisible failures with the same habits. Good thinking always asks: "What am I NOT seeing?" This is a case where AI\'s training on well-documented cognitive biases serves it well.',
    } satisfies FirstPrinciplesPayload,
  },
];
